{
  "version": 3,
  "sources": ["../../../../../apps/dhupar_group/dhupar_group/public/js/general.js", "../../../../../apps/dhupar_group/dhupar_group/public/js/blanket_order.js", "../../../../../apps/dhupar_group/dhupar_group/public/js/customer.js", "../../../../../apps/dhupar_group/dhupar_group/public/js/email_update.js", "../../../../../apps/dhupar_group/dhupar_group/public/js/consoleerp_hi.js", "../../../../../apps/dhupar_group/dhupar_group/public/js/testing.js"],
  "sourcesContent": ["\n// close button on order reports\n// console.log(\"hi\");\n\n\n\n\n\nfrappe.provide(\"erpnext\");\n\n$.extend(erpnext, {\n    // consoleerp_hi: function (data) {\n    //     frappe.confirm('Are you sure you want to close the sales order?',\n    //     () => {\n    //             frappe.call({\n    //                 method: \"erpnext.selling.doctype.sales_order.sales_order.update_status\",\n    //                 args: {\n    //                     status: \"Closed\",\n    //                     name: data\n    //                 },\n    //                 callback: function (r) {\n    //                     frappe.msgprint({\n    //                         title: __('Notification'),\n    //                         indicator: 'green',\n    //                         message: __('Sales Order Closed Successfully')\n    //                     });\n    //                 }\n    //             });\n    //     }, () => {\n    //         // action to perform if No is selected\n    //     })\n    // },\n\n    //Report - Draft Sales Order (Last 3 Months)\n    // close_sales_order2: function(data){\n    //     frappe.call({\n    //         method: \"reservation_system.custome_actions.update_sales_order_status_to_cancel\",\n    //         args: {\n    //             name: data\n    //         },\n    //         callback: function (r) {\n    //             // frappe.msgprint(\"closed \" + data);\n    //             frappe.msgprint({\n    //                 title: __('Notification'),\n    //                 indicator: 'green',\n    //                 message: __('Sales Order Closed Successfully')\n    //             });\n    //         }\n    //     });\n    // }\n});\n\nfunction branch(data){\n    frappe.db.set_value('Sales Order', data, {\n        'branch': 'Project'\n    })\n}\n\nfrappe.ui.form.on(\"Quotation\", \"get_history\", function (frm) {\n\n    var item_list = cur_frm.get_selected();\n    if (item_list.items) {\n\n        frappe.call({\n            method: \"dhupar_group.dhupar_group.get_history.get_item_history\",\n            args: {\n                'customer': cur_frm.doc.customer_name,\n                'items': cur_frm.doc.items,\n                'items_array': item_list.items,\n                'invoice': cur_frm.doc.name\n            },\n            callback: function (r) {\n\n                console.log(r);\n                if (r.message[0].length > 0) {\n                    frappe.msgprint(`\n                    <div style=\"height: 400px; overflow-y: auto; margin-bottom: 10px;\" class=\"table-wrapper-scroll-y\">\n                        <table class=\"table table-bordered table-striped table-sm\">\n                            <thead>\n                                <tr>\n                                    <th>Date</th>\n                                    <th>Item Code</th>\n                                    <th>Description</th>\n                                    <th>Pricelist Rate</th>\n                                    <th>QTY.</th>\n                                    <th>discount</th>\n                                </tr>\n                            </thead>\n                            <tbody id=\"history-table\">\n                                \n                            </tbody\n                        </table>\n                    </div>`);\n\n                    frappe.msgprint(`\n                    <div style=\"height: 400px; overflow-y: auto; margin-bottom: 10px;\" class=\"table-wrapper-scroll-y\">\n                        <table class=\"table table-bordered table-striped table-sm\">\n                            <thead>\n                                <tr>\n                                    <th>Date</th>\n                                    <th>Item Code</th>\n                                    <th>Description</th>\n                                    <th>Pricelist Rate</th>\n                                    <th>QTY.</th>\n                                    <th>discount</th>\n                                </tr>\n                            </thead>\n                            <tbody id=\"history-table\">\n                                \n                            </tbody\n                        </table>\n                    </div>`);\n\n                    var table = document.getElementById(\"history-table\");\n\n                    //console.log(table);\n\n                    for (var j = 0; j < r.message.length; j++) {\n                        //console.log(r.message[0].length);\n                        for (var i = 0; i < r.message[j].length; i++) {\n                            //console.log(document.getElementById(\"history-table\"));\n                            var newRow = table.insertRow(table.rows.length);\n                            //console.log(r.message[0].length);\n                            newRow.innerHTML = \"<td>\" + moment(r.message[j][i][0]).format('MM/DD/YYYY') + \"</td>\" +\n                                \"<td>\" + r.message[j][i][1] + \"</td>\" +\n                                \"<td>\" + r.message[j][i][2] + \"</td>\" +\n                                \"<td>\" + r.message[j][i][4] + \"</td>\" +\n                                \"<td>\" + r.message[j][i][3] + \"</td>\" +\n                                \"<td>\" + r.message[j][i][5] + \"</td>\"\n                        }\n                    }\n                } else {\n                    frappe.msgprint(\"Never Sold to \" + cur_frm.doc.customer_name)\n                }\n            }\n        });\n\n    }\n\n});\n\n\n\n", "\n\nfrappe.ui.form.on(\"Blanket Order\", {\n\n    setup: function(frm) {\n        cur_frm.set_query(\"contact_person\", function() {\n\t\t\treturn {\n\t\t\t\tfilters: [\n\t\t\t\t\t[\"Dynamic Link\", \"link_doctype\", \"=\", \"Customer\"],\n\t\t\t[\"Dynamic Link\", \"link_name\", \"=\", cur_frm.doc.customer],\n\t\t\t\t]\n\t\t\t}\n\t\t});\n\n        cur_frm.set_query(\"customer_address\", function() {\n\t\t\treturn {\n\t\t\t\tfilters: [\n\t\t\t\t\t[\"Dynamic Link\", \"link_doctype\", \"=\", \"Customer\"],\n\t\t\t[\"Dynamic Link\", \"link_name\", \"=\", cur_frm.doc.customer],\n\t\t\t\t]\n\t\t\t}\n\t\t});\n    },\n    onload: function(frm) {\n\n        setTimeout(() => {\n            var x = document.getElementsByClassName(\"grid-row-check pull-left\");\n            for(var i=0; i<x.length;i++)\n            {\n                x[i].removeAttribute('disabled');\n            }\n        },300);\n    },\n    before_save: function (frm) {\n        cur_frm.doc.net_total = 0\n        cur_frm.doc.items.forEach(function (item, index) {\n            \n            if (cur_frm.doc.items[index].discount_percentage == null) {\n                cur_frm.doc.items[index].discount_percentage = 0;\n                cur_frm.refresh_fields();\n            }\n            cur_frm.doc.items[index].rate = cur_frm.doc.items[index].price_list_rate*(1-cur_frm.doc.items[index].discount_percentage/100);\n            cur_frm.doc.items[index].amount = cur_frm.doc.items[index].rate * cur_frm.doc.items[index].qty\n            cur_frm.doc.net_total = cur_frm.doc.net_total + cur_frm.doc.items[index].amount\n        });\n        cur_frm.refresh_fields();\n    }\n\n});\n\nfrappe.ui.form.on(\"Blanket Order Item\", {\n\n    onload: function (frm, ctd, ctn) {\n        locals[ctd][ctn].discount_percentage = 0;\n        cur_frm.refresh_fields();\n    },\n    \n    price_list_rate: function (frm, ctd, ctn) {\n        if (locals[ctd][ctn].discount_percentage == null) {\n            locals[ctd][ctn].discount_percentage = 0;\n            cur_frm.refresh_fields();\n        }\n        locals[ctd][ctn].rate = locals[ctd][ctn].price_list_rate*(1-locals[ctd][ctn].discount_percentage/100);\n        locals[ctd][ctn].amount = locals[ctd][ctn].rate * locals[ctd][ctn].qty\n        cur_frm.refresh_fields();\n    },\n    discount_percentage: function (frm,ctd,ctn) {\n        locals[ctd][ctn].rate = locals[ctd][ctn].price_list_rate*(1-locals[ctd][ctn].discount_percentage/100);\n        locals[ctd][ctn].amount = locals[ctd][ctn].rate * locals[ctd][ctn].qty\n        cur_frm.refresh_fields();\n    },\n    qty: function (frm,ctd,ctn) {\n        if (locals[ctd][ctn].discount_percentage == null) {\n            locals[ctd][ctn].discount_percentage = 0;\n            cur_frm.refresh_fields();\n        }\n        locals[ctd][ctn].rate = locals[ctd][ctn].price_list_rate*(1-locals[ctd][ctn].discount_percentage/100);\n        locals[ctd][ctn].amount = locals[ctd][ctn].rate * locals[ctd][ctn].qty\n        cur_frm.refresh_fields();\n    }\n\n});", "frappe.ui.form.on(\"Customer\", {\n\n    onload: function(frm){\n        // cur_frm.dashboard.add_indicator(__('Debtor Days: {0}',[cur_frm.doc.debtor_days]),'red'); \n        // console.log(\"this\")\n    }\n\n})", "\nfrappe.ui.form.on(\"Sales Order\", {\n\tafter_save(frm) {\n        frappe.call({\n            method:\"dhupar_group.remainder_automation.outstanding.update_email_id\",\n            args: {\n                \"customer_name1\": frm.doc.customer,\n\t\t\t\t\"billing_email_id1\":frm.doc.billing_email_id,\n            },\n            callback : function(r) {\n               if (r.message){\n                    console.log(r.message)\n               }\n            },\n        })\n\t}\n});", "frappe.provide(\"erpnext\");\n\n$.extend(erpnext, {\n    //call from Report: Ordered Items To Be Delivered.(When Close button click)\n    consoleerp_hi: function (data) {\n        frappe.confirm('Are you sure you want to close the sales order?',\n            () => {\n                    frappe.call({\n                        method: \"erpnext.selling.doctype.sales_order.sales_order.update_status\",\n                        args: {\n                            status: \"Closed\",\n                            name: data\n                        },\n                        callback: function (r) {\n                            frappe.msgprint({\n                                title: __('Notification'),\n                                indicator: 'green',\n                                message: __('Sales Order Closed Successfully')\n                            });\n                        }\n                    });\n            }, () => {\n                // action to perform if No is selected\n            }\n        )\n    },\n\n    //Report - Draft Sales Order (Last 3 Months)\n    close_sales_order2: function(data){\n        frappe.confirm('Are you sure you want to close the sales order?',\n            () => {\n                frappe.call({\n                    method: \"reservation_system.custome_actions.update_sales_order_status_to_cancel\",\n                    args: {\n                        name: data\n                    },\n                    callback: function (r) {\n                        // frappe.msgprint(\"closed \" + data);\n                        frappe.msgprint({\n                            title: __('Notification'),\n                            indicator: 'green',\n                            message: __('Sales Order Closed Successfully')\n                        });\n                    }\n                });\n            }, () => {\n                // action to perform if No is selected\n            }\n        )\n    }\n});", "window.onload= function() {\n    console.log(\"hello from bundle\");\n}"],
  "mappings": "MAQA,OAAO,QAAQ,SAAS,EAExB,EAAE,OAAO,QAAS,CAwClB,CAAC,EAQD,OAAO,GAAG,KAAK,GAAG,YAAa,cAAe,SAAU,EAAK,CAEzD,GAAI,GAAY,QAAQ,aAAa,EACrC,AAAI,EAAU,OAEV,OAAO,KAAK,CACR,OAAQ,yDACR,KAAM,CACF,SAAY,QAAQ,IAAI,cACxB,MAAS,QAAQ,IAAI,MACrB,YAAe,EAAU,MACzB,QAAW,QAAQ,IAAI,IAC3B,EACA,SAAU,SAAU,EAAG,CAGnB,GADA,QAAQ,IAAI,CAAC,EACT,EAAE,QAAQ,GAAG,OAAS,EAAG,CACzB,OAAO,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAiBT,EAEP,OAAO,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAiBT,EAMP,OAJI,GAAQ,SAAS,eAAe,eAAe,EAI1C,EAAI,EAAG,EAAI,EAAE,QAAQ,OAAQ,IAElC,OAAS,GAAI,EAAG,EAAI,EAAE,QAAQ,GAAG,OAAQ,IAAK,CAE1C,GAAI,GAAS,EAAM,UAAU,EAAM,KAAK,MAAM,EAE9C,EAAO,UAAY,OAAS,OAAO,EAAE,QAAQ,GAAG,GAAG,EAAE,EAAE,OAAO,YAAY,EAAI,YACjE,EAAE,QAAQ,GAAG,GAAG,GAAK,YACrB,EAAE,QAAQ,GAAG,GAAG,GAAK,YACrB,EAAE,QAAQ,GAAG,GAAG,GAAK,YACrB,EAAE,QAAQ,GAAG,GAAG,GAAK,YACrB,EAAE,QAAQ,GAAG,GAAG,GAAK,OACtC,CAER,KACI,QAAO,SAAS,iBAAmB,QAAQ,IAAI,aAAa,CAEpE,CACJ,CAAC,CAIT,CAAC,ECzID,OAAO,GAAG,KAAK,GAAG,gBAAiB,CAE/B,MAAO,SAAS,EAAK,CACjB,QAAQ,UAAU,iBAAkB,UAAW,CACpD,MAAO,CACN,QAAS,CACR,CAAC,eAAgB,eAAgB,IAAK,UAAU,EAClD,CAAC,eAAgB,YAAa,IAAK,QAAQ,IAAI,QAAQ,CACtD,CACD,CACD,CAAC,EAEK,QAAQ,UAAU,mBAAoB,UAAW,CACtD,MAAO,CACN,QAAS,CACR,CAAC,eAAgB,eAAgB,IAAK,UAAU,EAClD,CAAC,eAAgB,YAAa,IAAK,QAAQ,IAAI,QAAQ,CACtD,CACD,CACD,CAAC,CACC,EACA,OAAQ,SAAS,EAAK,CAElB,WAAW,IAAM,CAEb,OADI,GAAI,SAAS,uBAAuB,0BAA0B,EAC1D,EAAE,EAAG,EAAE,EAAE,OAAO,IAEpB,EAAE,GAAG,gBAAgB,UAAU,CAEvC,EAAE,GAAG,CACT,EACA,YAAa,SAAU,EAAK,CACxB,QAAQ,IAAI,UAAY,EACxB,QAAQ,IAAI,MAAM,QAAQ,SAAU,EAAM,EAAO,CAE7C,AAAI,QAAQ,IAAI,MAAM,GAAO,qBAAuB,MAChD,SAAQ,IAAI,MAAM,GAAO,oBAAsB,EAC/C,QAAQ,eAAe,GAE3B,QAAQ,IAAI,MAAM,GAAO,KAAO,QAAQ,IAAI,MAAM,GAAO,gBAAiB,GAAE,QAAQ,IAAI,MAAM,GAAO,oBAAoB,KACzH,QAAQ,IAAI,MAAM,GAAO,OAAS,QAAQ,IAAI,MAAM,GAAO,KAAO,QAAQ,IAAI,MAAM,GAAO,IAC3F,QAAQ,IAAI,UAAY,QAAQ,IAAI,UAAY,QAAQ,IAAI,MAAM,GAAO,MAC7E,CAAC,EACD,QAAQ,eAAe,CAC3B,CAEJ,CAAC,EAED,OAAO,GAAG,KAAK,GAAG,qBAAsB,CAEpC,OAAQ,SAAU,EAAK,EAAK,EAAK,CAC7B,OAAO,GAAK,GAAK,oBAAsB,EACvC,QAAQ,eAAe,CAC3B,EAEA,gBAAiB,SAAU,EAAK,EAAK,EAAK,CACtC,AAAI,OAAO,GAAK,GAAK,qBAAuB,MACxC,QAAO,GAAK,GAAK,oBAAsB,EACvC,QAAQ,eAAe,GAE3B,OAAO,GAAK,GAAK,KAAO,OAAO,GAAK,GAAK,gBAAiB,GAAE,OAAO,GAAK,GAAK,oBAAoB,KACjG,OAAO,GAAK,GAAK,OAAS,OAAO,GAAK,GAAK,KAAO,OAAO,GAAK,GAAK,IACnE,QAAQ,eAAe,CAC3B,EACA,oBAAqB,SAAU,EAAI,EAAI,EAAK,CACxC,OAAO,GAAK,GAAK,KAAO,OAAO,GAAK,GAAK,gBAAiB,GAAE,OAAO,GAAK,GAAK,oBAAoB,KACjG,OAAO,GAAK,GAAK,OAAS,OAAO,GAAK,GAAK,KAAO,OAAO,GAAK,GAAK,IACnE,QAAQ,eAAe,CAC3B,EACA,IAAK,SAAU,EAAI,EAAI,EAAK,CACxB,AAAI,OAAO,GAAK,GAAK,qBAAuB,MACxC,QAAO,GAAK,GAAK,oBAAsB,EACvC,QAAQ,eAAe,GAE3B,OAAO,GAAK,GAAK,KAAO,OAAO,GAAK,GAAK,gBAAiB,GAAE,OAAO,GAAK,GAAK,oBAAoB,KACjG,OAAO,GAAK,GAAK,OAAS,OAAO,GAAK,GAAK,KAAO,OAAO,GAAK,GAAK,IACnE,QAAQ,eAAe,CAC3B,CAEJ,CAAC,ECjFD,OAAO,GAAG,KAAK,GAAG,WAAY,CAE1B,OAAQ,SAAS,EAAI,CAGrB,CAEJ,CAAC,ECND,OAAO,GAAG,KAAK,GAAG,cAAe,CAChC,WAAW,EAAK,CACT,OAAO,KAAK,CACR,OAAO,gEACP,KAAM,CACF,eAAkB,EAAI,IAAI,SACtC,kBAAoB,EAAI,IAAI,gBACpB,EACA,SAAW,SAAS,EAAG,CACpB,AAAI,EAAE,SACD,QAAQ,IAAI,EAAE,OAAO,CAE7B,CACJ,CAAC,CACR,CACD,CAAC,EChBD,OAAO,QAAQ,SAAS,EAExB,EAAE,OAAO,QAAS,CAEd,cAAe,SAAU,EAAM,CAC3B,OAAO,QAAQ,kDACX,IAAM,CACE,OAAO,KAAK,CACR,OAAQ,gEACR,KAAM,CACF,OAAQ,SACR,KAAM,CACV,EACA,SAAU,SAAU,EAAG,CACnB,OAAO,SAAS,CACZ,MAAO,GAAG,cAAc,EACxB,UAAW,QACX,QAAS,GAAG,iCAAiC,CACjD,CAAC,CACL,CACJ,CAAC,CACT,EAAG,IAAM,CAET,CACJ,CACJ,EAGA,mBAAoB,SAAS,EAAK,CAC9B,OAAO,QAAQ,kDACX,IAAM,CACF,OAAO,KAAK,CACR,OAAQ,yEACR,KAAM,CACF,KAAM,CACV,EACA,SAAU,SAAU,EAAG,CAEnB,OAAO,SAAS,CACZ,MAAO,GAAG,cAAc,EACxB,UAAW,QACX,QAAS,GAAG,iCAAiC,CACjD,CAAC,CACL,CACJ,CAAC,CACL,EAAG,IAAM,CAET,CACJ,CACJ,CACJ,CAAC,EClDD,OAAO,OAAQ,UAAW,CACtB,QAAQ,IAAI,mBAAmB,CACnC",
  "names": []
}

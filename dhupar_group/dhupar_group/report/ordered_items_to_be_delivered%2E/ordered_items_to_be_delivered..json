{
 "add_total_row": 1,
 "columns": [],
 "creation": "2018-12-06 15:32:02.282012",
 "disable_prepared_report": 1,
 "disabled": 0,
 "docstatus": 0,
 "doctype": "Report",
 "filters": [
  {
   "fieldname": "customer",
   "fieldtype": "Data",
   "label": "Customer",
   "mandatory": 0,
   "options": "%%",
   "wildcard_filter": 1
  }
 ],
 "idx": 1,
 "is_standard": "Yes",
 "javascript": "",
 "letter_head": "Default",
 "modified": "2023-12-06 13:23:21.149232",
 "modified_by": "Administrator",
 "module": "Dhupar Group",
 "name": "Ordered Items To Be Delivered.",
 "owner": "Administrator",
 "prepared_report": 0,
 "query": "select \n `tabSales Order`.`name` as \"Sales Order:Link/Sales Order:120\",\n CONCAT('<button style=\"color:#fff; background-color:#318AD8 ; margin:10px,10px,5px,5px; border-radius: 9px; text-decoration: none; height:22px; width:70px; border: none; text-align: center;\" type=''button'' data=''', `tabSales Order`.name ,''' onClick=''erpnext.consoleerp_hi(this.getAttribute(\"data\"))''>Close</button>&nbsp<button style=\"background-color:#154c79 ; color:#ffffff ; margin-left:10px; border-radius: 9px; text-decoration: none; height:22px; width:70px; border: none; text-align: center;\" type=\"button\" data=''', `tabSales Order`.name ,''' onClick=''dispatch(this.getAttribute(\"data\"))''>Dispatch</button>') as \"Close SO / Dispatch:Data:170\",\n `tabSales Order`.`po_no` as \"Customer Po No::150\",\n `tabSales Order`.`project_name` as \"Project/Job No::120\",\n `tabSales Order`.`po_date` as \"Customer Po Date:Date\",\n `tabSales Order`.`customer` as \"Customer:Link/Customer:120\",\n `tabSales Order`.`transaction_date` as \"Date:Date\",\n `tabSales Order Item`.item_code as \"Item:Link/Item:120\",\n `tabSales Order Item`.description as \"Description::200\",\n `tabSales Order Item`.qty as \"Qty:Float:140\",\n (select rsi.reserve_qty from `tabReservation Schedule Item` rsi JOIN `tabReservation Schedule` rs ON rs.name = rsi.parent WHERE rs.parent_warehouse = \"WAGHOLI BIN RACK - DBTPL\"  AND rsi.so_item_name = `tabSales Order Item`.name AND rs.status = 'Open') as \"Reserve Qty:Float:140\",\n (select sum(`tabSales Invoice Item`.qty) from `tabSales Invoice Item` join `tabSales Invoice` on `tabSales Invoice Item`.parent = `tabSales Invoice`.name where `tabSales Invoice`.sales_order_reference_no = `tabSales Order`.name and `tabSales Invoice`.docstatus=1 AND `tabSales Invoice Item`.item_code = `tabSales Order Item`.item_code and `tabSales Invoice Item`.item_name = `tabSales Order Item`.item_name and `tabSales Invoice Item`.so_detail = `tabSales Order Item`.name) as \"Delivered Qty:Float:140\",\n(`tabSales Order Item`.qty - ifnull((select sum(`tabSales Invoice Item`.qty) from `tabSales Invoice Item` join `tabSales Invoice` on `tabSales Invoice Item`.parent = `tabSales Invoice`.name where `tabSales Invoice`.sales_order_reference_no = `tabSales Order`.name and `tabSales Invoice`.docstatus=1 AND `tabSales Invoice Item`.item_code = `tabSales Order Item`.item_code and `tabSales Invoice Item`.item_name = `tabSales Order Item`.item_name and `tabSales Invoice Item`.so_detail = `tabSales Order Item`.name), 0)) as \"Qty_to_Deliver:Float:140\",\n `tabSales Order Item`.base_rate as \"Rate:Float:140\",\n `tabSales Order Item`.amount as \"Amount:Float:140\",\n`tabSales Order Item`.gst_hsn_code as \"HSN\",\n ( SELECT CASE WHEN(\nSELECT CASE WHEN (\n(\n    SELECT SUM(tabBin.actual_qty) FROM tabBin WHERE tabBin.actual_qty <> 0 and tabBin.warehouse not LIKE \"WC - DBTPL%%\" and tabBin.warehouse in (select name from tabWarehouse WHERE tabWarehouse.parent_warehouse = \"WAGHOLI BIN RACK - DBTPL\") and tabBin.item_code = `tabSales Order Item`.item_code\n) - (\n        SELECT CASE WHEN SUM(rsi.reserve_qty) IS NULL THEN 0 WHEN SUM(rsi.reserve_qty) < 0 THEN 0 ELSE SUM(rsi.reserve_qty) END\n        FROM `tabReservation Schedule Item` as rsi\n        JOIN  `tabReservation Schedule` as rs\n        ON rsi.parent = rs.name\n        WHERE rsi.item_code = `tabSales Order Item`.item_code\n        AND rs.parent_warehouse = \"WAGHOLI BIN RACK - DBTPL\"\n        AND rs.status = 'Open')\n) < 0 THEN 0\nELSE (\n(\n    SELECT SUM(tabBin.actual_qty) FROM tabBin WHERE tabBin.actual_qty <> 0 and tabBin.warehouse not LIKE \"WC - DBTPL%%\" and tabBin.warehouse in (select name from tabWarehouse WHERE tabWarehouse.parent_warehouse = \"WAGHOLI BIN RACK - DBTPL\") and tabBin.item_code = `tabSales Order Item`.item_code\n) - (\n        SELECT CASE WHEN SUM(rsi.reserve_qty) IS NULL THEN 0 WHEN SUM(rsi.reserve_qty) < 0 THEN 0 ELSE SUM(rsi.reserve_qty) END\n        FROM `tabReservation Schedule Item` as rsi\n        JOIN  `tabReservation Schedule` as rs\n        ON rsi.parent = rs.name\n        WHERE rsi.item_code = `tabSales Order Item`.item_code\n        AND rs.parent_warehouse = \"WAGHOLI BIN RACK - DBTPL\"\n        AND rs.status = 'Open'))END) IS NULL THEN 0 ELSE((\nSELECT CASE WHEN (\n(\n    SELECT SUM(tabBin.actual_qty) FROM tabBin WHERE tabBin.actual_qty <> 0 and tabBin.warehouse not LIKE \"WC - DBTPL%%\" and tabBin.warehouse in (select name from tabWarehouse WHERE tabWarehouse.parent_warehouse = \"WAGHOLI BIN RACK - DBTPL\") and tabBin.item_code = `tabSales Order Item`.item_code\n) - (\n        SELECT CASE WHEN SUM(rsi.reserve_qty) IS NULL THEN 0 WHEN SUM(rsi.reserve_qty) < 0 THEN 0 ELSE SUM(rsi.reserve_qty) END\n        FROM `tabReservation Schedule Item` as rsi\n        JOIN  `tabReservation Schedule` as rs\n        ON rsi.parent = rs.name\n        WHERE rsi.item_code = `tabSales Order Item`.item_code\n        AND rs.parent_warehouse = \"WAGHOLI BIN RACK - DBTPL\"\n        AND rs.status = 'Open')\n) < 0 THEN 0\nELSE (\n(\n    SELECT SUM(tabBin.actual_qty) FROM tabBin WHERE tabBin.actual_qty <> 0 and tabBin.warehouse not LIKE \"WC - DBTPL%%\" and tabBin.warehouse in (select name from tabWarehouse WHERE tabWarehouse.parent_warehouse = \"WAGHOLI BIN RACK - DBTPL\") and tabBin.item_code = `tabSales Order Item`.item_code\n) - (\n        SELECT CASE WHEN SUM(rsi.reserve_qty) IS NULL THEN 0 WHEN SUM(rsi.reserve_qty) < 0 THEN 0 ELSE SUM(rsi.reserve_qty) END\n        FROM `tabReservation Schedule Item` as rsi\n        JOIN  `tabReservation Schedule` as rs\n        ON rsi.parent = rs.name\n        WHERE rsi.item_code = `tabSales Order Item`.item_code\n        AND rs.parent_warehouse = \"WAGHOLI BIN RACK - DBTPL\"\n        AND rs.status = 'Open'))END))END) as \"Wagholi Stock:Float:140\",\n\n\n(SELECT CASE WHEN(\nSELECT CASE WHEN (\n    (\n        SELECT SUM(tabBin.actual_qty) FROM tabBin WHERE tabBin.actual_qty <> 0 and tabBin.warehouse in (select name from tabWarehouse WHERE tabWarehouse.parent_warehouse = \"PUNE BIN RACK - DBTPL\") and tabBin.item_code = `tabSales Order Item`.item_code\n    ) - (\n        SELECT CASE WHEN SUM(rsi.reserve_qty) IS NULL THEN 0  WHEN SUM(rsi.reserve_qty) < 0 THEN 0 ELSE SUM(rsi.reserve_qty) END\n        FROM `tabReservation Schedule Item` as rsi \n        JOIN `tabReservation Schedule` as rs \n        ON rsi.parent = rs.name\n        WHERE rsi.item_code = `tabSales Order Item`.item_code\n        AND rs.parent_warehouse = \"PUNE BIN RACK - DBTPL\"\n        AND rs.status = 'Open')\n) < 0 THEN 0\nELSE (\n    (\n        SELECT SUM(tabBin.actual_qty) FROM tabBin WHERE tabBin.actual_qty <> 0 and tabBin.warehouse in (select name from tabWarehouse WHERE tabWarehouse.parent_warehouse = \"PUNE BIN RACK - DBTPL\") and tabBin.item_code = `tabSales Order Item`.item_code\n    ) - (\n        SELECT CASE WHEN SUM(rsi.reserve_qty) IS NULL THEN 0  WHEN SUM(rsi.reserve_qty) < 0 THEN 0 ELSE SUM(rsi.reserve_qty) END\n        FROM `tabReservation Schedule Item` as rsi \n        JOIN `tabReservation Schedule` as rs \n        ON rsi.parent = rs.name\n        WHERE rsi.item_code = `tabSales Order Item`.item_code\n        AND rs.parent_warehouse = \"PUNE BIN RACK - DBTPL\"\n        AND rs.status = 'Open'))END)IS NULL THEN 0 ELSE((\nSELECT CASE WHEN (\n    (\n        SELECT SUM(tabBin.actual_qty) FROM tabBin WHERE tabBin.actual_qty <> 0 and tabBin.warehouse in (select name from tabWarehouse WHERE tabWarehouse.parent_warehouse = \"PUNE BIN RACK - DBTPL\") and tabBin.item_code = `tabSales Order Item`.item_code\n    ) - (\n        SELECT CASE WHEN SUM(rsi.reserve_qty) IS NULL THEN 0  WHEN SUM(rsi.reserve_qty) < 0 THEN 0 ELSE SUM(rsi.reserve_qty) END\n        FROM `tabReservation Schedule Item` as rsi \n        JOIN `tabReservation Schedule` as rs \n        ON rsi.parent = rs.name\n        WHERE rsi.item_code = `tabSales Order Item`.item_code\n        AND rs.parent_warehouse = \"PUNE BIN RACK - DBTPL\"\n        AND rs.status = 'Open')\n) < 0 THEN 0\nELSE (\n    (\n        SELECT SUM(tabBin.actual_qty) FROM tabBin WHERE tabBin.actual_qty <> 0 and tabBin.warehouse in (select name from tabWarehouse WHERE tabWarehouse.parent_warehouse = \"PUNE BIN RACK - DBTPL\") and tabBin.item_code = `tabSales Order Item`.item_code\n    ) - (\n        SELECT CASE WHEN SUM(rsi.reserve_qty) IS NULL THEN 0  WHEN SUM(rsi.reserve_qty) < 0 THEN 0 ELSE SUM(rsi.reserve_qty) END\n        FROM `tabReservation Schedule Item` as rsi \n        JOIN `tabReservation Schedule` as rs \n        ON rsi.parent = rs.name\n        WHERE rsi.item_code = `tabSales Order Item`.item_code\n        AND rs.parent_warehouse = \"PUNE BIN RACK - DBTPL\"\n        AND rs.status = 'Open'))END))END) as \"Pune Stock:Float:140\",\n \n \n(SELECT CASE WHEN (\nSELECT CASE WHEN (\n    (\n        SELECT SUM(tabBin.actual_qty) FROM tabBin WHERE tabBin.actual_qty <> 0 and tabBin.warehouse in (select name from tabWarehouse WHERE tabWarehouse.parent_warehouse = \"PIMPRI BIN RACK - DBTPL\" ) and tabBin.item_code = `tabSales Order Item`.item_code\n    ) - (\n        SELECT CASE WHEN SUM(rsi.reserve_qty) IS NULL THEN 0 WHEN SUM(rsi.reserve_qty) < 0 THEN 0 ELSE SUM(rsi.reserve_qty) END\n        FROM `tabReservation Schedule Item` as rsi\n        JOIN `tabReservation Schedule` as rs \n        ON rsi.parent = rs.name\n        WHERE rsi.item_code = `tabSales Order Item`.item_code\n        AND rs.parent_warehouse = \"PIMPRI BIN RACK - DBTPL\"\n        AND rs.status = 'Open')\n) < 0 THEN 0\nELSE (\n    (\n        SELECT SUM(tabBin.actual_qty) FROM tabBin WHERE tabBin.actual_qty <> 0 and tabBin.warehouse in (select name from tabWarehouse WHERE tabWarehouse.parent_warehouse = \"PIMPRI BIN RACK - DBTPL\") and tabBin.item_code = `tabSales Order Item`.item_code\n    ) - (\n        SELECT CASE WHEN SUM(rsi.reserve_qty) IS NULL THEN 0 WHEN SUM(rsi.reserve_qty) < 0 THEN 0 ELSE SUM(rsi.reserve_qty) END\n        FROM `tabReservation Schedule Item` as rsi\n        JOIN `tabReservation Schedule` as rs \n        ON rsi.parent = rs.name\n        WHERE rsi.item_code = `tabSales Order Item`.item_code\n        AND rs.parent_warehouse = \"PIMPRI BIN RACK - DBTPL\"\n        AND rs.status = 'Open'))END)IS NULL THEN 0 ELSE((\nSELECT CASE WHEN (\n    (\n        SELECT SUM(tabBin.actual_qty) FROM tabBin WHERE tabBin.actual_qty <> 0 and tabBin.warehouse in (select name from tabWarehouse WHERE tabWarehouse.parent_warehouse = \"PIMPRI BIN RACK - DBTPL\" ) and tabBin.item_code = `tabSales Order Item`.item_code\n    ) - (\n        SELECT CASE WHEN SUM(rsi.reserve_qty) IS NULL THEN 0 WHEN SUM(rsi.reserve_qty) < 0 THEN 0 ELSE SUM(rsi.reserve_qty) END\n        FROM `tabReservation Schedule Item` as rsi\n        JOIN `tabReservation Schedule` as rs \n        ON rsi.parent = rs.name\n        WHERE rsi.item_code = `tabSales Order Item`.item_code\n        AND rs.parent_warehouse = \"PIMPRI BIN RACK - DBTPL\"\n        AND rs.status = 'Open')\n) < 0 THEN 0\nELSE (\n    (\n        SELECT SUM(tabBin.actual_qty) FROM tabBin WHERE tabBin.actual_qty <> 0 and tabBin.warehouse in (select name from tabWarehouse WHERE tabWarehouse.parent_warehouse = \"PIMPRI BIN RACK - DBTPL\") and tabBin.item_code = `tabSales Order Item`.item_code\n    ) - (\n        SELECT CASE WHEN SUM(rsi.reserve_qty) IS NULL THEN 0 WHEN SUM(rsi.reserve_qty) < 0 THEN 0 ELSE SUM(rsi.reserve_qty) END\n        FROM `tabReservation Schedule Item` as rsi\n        JOIN `tabReservation Schedule` as rs \n        ON rsi.parent = rs.name\n        WHERE rsi.item_code = `tabSales Order Item`.item_code\n        AND rs.parent_warehouse = \"PIMPRI BIN RACK - DBTPL\"\n        AND rs.status = 'Open'))END))END) as \"Pimpri Stock:Float:140\",\n \n \n(SELECT CASE WHEN (\nSELECT CASE WHEN (\n    (\n        select SUM(tabBin.actual_qty) from tabBin WHERE tabBin.actual_qty <> 0 and tabBin.warehouse in (select name from tabWarehouse WHERE tabWarehouse.parent_warehouse = \"MAHAPE BIN RACK - DBTPL\") and tabBin.item_code = `tabSales Order Item`.item_code\n    ) - (\n        SELECT CASE WHEN SUM(rsi.reserve_qty) IS NULL THEN 0 WHEN SUM(rsi.reserve_qty) < 0 THEN 0 ELSE SUM(rsi.reserve_qty) END\n        FROM `tabReservation Schedule Item` as rsi\n        JOIN `tabReservation Schedule` as rs \n        ON rsi.parent = rs.name\n        WHERE rsi.item_code = `tabSales Order Item`.item_code\n        AND rs.parent_warehouse = \"MAHAPE BIN RACK - DBTPL\"\n        AND rs.status = 'Open')\n) < 0 THEN 0\nELSE (\n    (\n        select SUM(tabBin.actual_qty) from tabBin WHERE tabBin.actual_qty <> 0 and tabBin.warehouse in (select name from tabWarehouse WHERE tabWarehouse.parent_warehouse = \"MAHAPE BIN RACK - DBTPL\") and tabBin.item_code = `tabSales Order Item`.item_code\n    ) - (\n        SELECT CASE WHEN SUM(rsi.reserve_qty) IS NULL THEN 0 WHEN SUM(rsi.reserve_qty) < 0 THEN 0 ELSE SUM(rsi.reserve_qty) END\n        FROM `tabReservation Schedule Item` as rsi\n        JOIN `tabReservation Schedule` as rs \n        ON rsi.parent = rs.name\n        WHERE rsi.item_code = `tabSales Order Item`.item_code\n        AND rs.parent_warehouse = \"MAHAPE BIN RACK - DBTPL\"\n        AND rs.status = 'Open'))END)IS NULL THEN 0 ELSE((\nSELECT CASE WHEN (\n    (\n        select SUM(tabBin.actual_qty) from tabBin WHERE tabBin.actual_qty <> 0 and tabBin.warehouse in (select name from tabWarehouse WHERE tabWarehouse.parent_warehouse = \"MAHAPE BIN RACK - DBTPL\") and tabBin.item_code = `tabSales Order Item`.item_code\n    ) - (\n        SELECT CASE WHEN SUM(rsi.reserve_qty) IS NULL THEN 0 WHEN SUM(rsi.reserve_qty) < 0 THEN 0 ELSE SUM(rsi.reserve_qty) END\n        FROM `tabReservation Schedule Item` as rsi\n        JOIN `tabReservation Schedule` as rs \n        ON rsi.parent = rs.name\n        WHERE rsi.item_code = `tabSales Order Item`.item_code\n        AND rs.parent_warehouse = \"MAHAPE BIN RACK - DBTPL\"\n        AND rs.status = 'Open')\n) < 0 THEN 0\nELSE (\n    (\n        select SUM(tabBin.actual_qty) from tabBin WHERE tabBin.actual_qty <> 0 and tabBin.warehouse in (select name from tabWarehouse WHERE tabWarehouse.parent_warehouse = \"MAHAPE BIN RACK - DBTPL\") and tabBin.item_code = `tabSales Order Item`.item_code\n    ) - (\n        SELECT CASE WHEN SUM(rsi.reserve_qty) IS NULL THEN 0 WHEN SUM(rsi.reserve_qty) < 0 THEN 0 ELSE SUM(rsi.reserve_qty) END\n        FROM `tabReservation Schedule Item` as rsi\n        JOIN `tabReservation Schedule` as rs \n        ON rsi.parent = rs.name\n        WHERE rsi.item_code = `tabSales Order Item`.item_code\n        AND rs.parent_warehouse = \"MAHAPE BIN RACK - DBTPL\"\n        AND rs.status = 'Open'))END))END) as \"Mahape Stock:Float:140\",\n\n `tabSales Order Item`.item_group as \"Item Group:Link/Item Group:120\",\n `tabSales Order Item`.brand as \"Brand::120\",\n `tabCustomer`.sales_person as \"Sales person::200\"\n from `tabSales Order`\n JOIN `tabSales Order Item` on `tabSales Order Item`.`parent` = `tabSales Order`.`name`\n JOIN `tabCustomer` on `tabCustomer`.`name` = `tabSales Order`.`customer`\n WHERE `tabSales Order`.docstatus = 1 AND `tabSales Order Item`.returned_qty = 0 AND `tabSales Order`.status not in (\"Stopped\", \"Closed\") and ifnull(`tabSales Order Item`.delivered_qty,0) < ifnull(`tabSales Order Item`.qty,0) AND (`tabSales Order Item`.qty - ifnull((select sum(`tabSales Invoice Item`.qty) from `tabSales Invoice Item` join `tabSales Invoice` on `tabSales Invoice Item`.parent = `tabSales Invoice`.name where `tabSales Invoice`.sales_order_reference_no = `tabSales Order`.name and `tabSales Invoice`.docstatus=1 AND `tabSales Invoice Item`.item_code = `tabSales Order Item`.item_code and `tabSales Invoice Item`.item_name = `tabSales Order Item`.item_name and `tabSales Invoice Item`.so_detail = `tabSales Order Item`.name), 0)) != 0\n order by `tabSales Order`.transaction_date asc",
 "ref_doctype": "Sales Order",
 "report_name": "Ordered Items To Be Delivered.",
 "report_script": "",
 "report_type": "Query Report",
 "roles": [
  {
   "role": "Stock User"
  },
  {
   "role": "Stock Manager"
  },
  {
   "role": "Sales User"
  },
  {
   "role": "Accounts User"
  },
  {
   "role": "SCM"
  }
 ]
}